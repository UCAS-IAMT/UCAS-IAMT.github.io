<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>研究进展三：协作机器人轻量化设计 | 轻量化协作机器人设计方法与控制技术研究</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="3.1 协作机器人本体轻量化设计方法 机器人本体部件参数化建模方法不完善，传统方法大多采用有限元方法，借助有限元软件直接分析固定位姿下机器人的刚度性能，但对优化的参考效果存在局限性，其他建模方法存在建模精度较低，考虑因素不完全等问题；机器人操作空间刚度建模精度较低，大致方法分为有限元法，结构矩阵法和虚拟关节法，有限元方法计算量大，灵活性差，结构矩阵法多用于并联机构，精度较低，虚拟关节法计算效果">
<meta property="og:type" content="article">
<meta property="og:title" content="研究进展三：协作机器人轻量化设计">
<meta property="og:url" content="https://ucas-iamt.github.io/2025/01/25/2-3outcome/index.html">
<meta property="og:site_name" content="轻量化协作机器人设计方法与控制技术研究">
<meta property="og:description" content="3.1 协作机器人本体轻量化设计方法 机器人本体部件参数化建模方法不完善，传统方法大多采用有限元方法，借助有限元软件直接分析固定位姿下机器人的刚度性能，但对优化的参考效果存在局限性，其他建模方法存在建模精度较低，考虑因素不完全等问题；机器人操作空间刚度建模精度较低，大致方法分为有限元法，结构矩阵法和虚拟关节法，有限元方法计算量大，灵活性差，结构矩阵法多用于并联机构，精度较低，虚拟关节法计算效果">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-46.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-47.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-48.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-49.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-50.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-51.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-b3.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-52.png">
<meta property="og:image" content="https://ucas-iamt.github.io/images/2-2-53.png">
<meta property="article:published_time" content="2025-01-25T07:43:26.000Z">
<meta property="article:modified_time" content="2025-01-22T12:15:08.260Z">
<meta property="article:author" content="胡翰泽">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ucas-iamt.github.io/images/2-2-46.png">
  
    <link rel="alternate" href="/atom.xml" title="轻量化协作机器人设计方法与控制技术研究" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">轻量化协作机器人设计方法与控制技术研究</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://UCAS-IAMT.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-2-3outcome" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/01/25/2-3outcome/" class="article-date">
  <time class="dt-published" datetime="2025-01-25T07:43:26.000Z" itemprop="datePublished">2025-01-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      研究进展三：协作机器人轻量化设计
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="协作机器人本体轻量化设计方法">3.1
协作机器人本体轻量化设计方法</h2>
<p>机器人本体部件参数化建模方法不完善，传统方法大多采用有限元方法，借助有限元软件直接分析固定位姿下机器人的刚度性能，但对优化的参考效果存在局限性，其他建模方法存在建模精度较低，考虑因素不完全等问题；机器人操作空间刚度建模精度较低，大致方法分为有限元法，结构矩阵法和虚拟关节法，有限元方法计算量大，灵活性差，结构矩阵法多用于并联机构，精度较低，虚拟关节法计算效果和精度较为平衡，但对于连杆和关节重力的处理方法有待完善，精度有待提高；机器人整体轻量化设计方面，现有方法仍不完善，亟需建立从连杆与关节刚度到操作空间刚度的映射关系，揭示在连杆、关节的重力与外载荷共同影响下的操作点挠度变化规律，精准实现部件刚度分配，指导协作机器人本体轻量化设计并助力协作机器人满足变载荷、变轨迹作业的定位精度要求。</p>
<p>将机器人分为解析建模部分和有限元建模部分，分别计算对应参数。如图
46所示，对于参数化建模部分，连杆厢式梁通过等效为变截面连杆，得到其刚度矩阵。对于非优化部件，利用有限元软件直接提取对应信息，最终经过组装得到整机刚度模型。</p>
<figure>
<img src="/images/2-2-46.png" alt="图 46 本体部件参数化刚度建模思路及连杆模型">
<figcaption aria-hidden="true">图 46
本体部件参数化刚度建模思路及连杆模型</figcaption>
</figure>
<p>如图
47所示，利用虚拟关节法，将机器人划分为连杆模块与一体化关节模块，将连杆和关节的柔性赋予到虚拟关节当中，建立虚拟关节模型；对于连杆重力，将连杆分为中间的优化部分和两端的连接部分，将两端部分质量分别计入关节重力，同时将优化部分连杆组件受到的重力分解为连杆组件两端虚拟关节受到的等效作用力1与2，将二者简化为一对等效平行力进行后续计算。</p>
<figure>
<img src="/images/2-2-47.png" alt="图 47 虚拟关节与连杆组件配置图及连杆重力处理方式">
<figcaption aria-hidden="true">图 47
虚拟关节与连杆组件配置图及连杆重力处理方式</figcaption>
</figure>
<p>建立各参数及各种性能与机器人质量间的映射关系，在末端挠度小于阈值，以及满足结构条件的前提下，通过调节每一个连杆中的拓扑结构参数，完成机器人本体轻量化设计同时，间接实现各部件的刚度分配以及性能的优化，设计流程如图
48所示。</p>
<figure>
<img src="/images/2-2-48.png" alt="图 48 整机轻量化设计思路">
<figcaption aria-hidden="true">图 48 整机轻量化设计思路</figcaption>
</figure>
<p>依据上述设计方法，建立模型并进行相关仿真和实验，机器人本体部件参数化刚度建模中连杆刚度模型，连杆末端施加相同力和力矩后，所提出方法在六维方向上得变形与有限元结果对比，六个误差均在4.5%以内，满足后续仿真及优化过程中替代真实变形值的精度要求。</p>
<p>对于整机操作空间刚度模型，提出的解析刚度模型与有限元模型得到的变形比较，机器人六维弹性变形的相对误差绝对值均在8%以下，符合优化设计的精度要求。</p>
<p>对于协作机器人轻量化设计，同时考虑了机器人的动态性能、静态性能以及质量，采用了NSGA-II算法来优化机器人连杆的结构尺寸。在优化过程中，采用虚拟关节法和有限元法对机器人进行了静刚度建模；利用解析法和有限元法对机器人进行了动刚度建模。最终，优化得到的机器人本体在重量有效降低的同时，末端六维弹性变形全部减小，且提高了一阶固有频率。</p>
<h2 id="协作机器人样机搭建">3.2协作机器人样机搭建</h2>
<h3 id="基于ethercat通讯方案的七轴协作机器人样机搭建">3.2.1基于EtherCAT通讯方案的七轴协作机器人样机搭建</h3>
<p>协作机器人作为一种能够与人和环境互动的多轴系统，其与其他多轴系统在位置或速度控制上的主要区别在于，它要求具备高精度和高可靠性的力控性能。为确保协作机器人的稳定性，通常需要实现高带宽的力矩控制，例如达到1kHz甚至2kHz。这对系统通讯方案提出了严苛的要求，包括高频率、低通讯负载、低时延和减少抖动等性能指标。</p>
<p>EtherCAT通讯因其支持百兆级数据量，且所有节点共享一个数据帧和带宽，允许数据在通过每个节点时进行读写操作，无需等待整个帧返回，从而显著减少了I/O数据的刷新时间，使得通讯回路能够达到1kHz以上。基于这一优势，我们设计了基于EtherCAT通讯架构的系统，如图
49所示。结合课题一研发的电机、课题二研制的一体化关节以及课题三设计的轻量化本体，我们成功搭建了一台七轴协作机器人样机，如图
50所示。</p>
<figure>
<img src="/images/2-2-49.png" alt="图 49 基于EtherCAT的协作机器人通讯架构">
<figcaption aria-hidden="true">图 49
基于EtherCAT的协作机器人通讯架构</figcaption>
</figure>
<p>利用TwinCAT
3.0软件，生成了适用于各个驱动器的从站描述文件。接着，通过Speedgoat实时控制器，开发了运动学与动力学函数库。结合关节双编码器和电流信息，实现了拖动示教和柔顺运动控制技术。在七自由度协作机器人系统中，对柔顺运动效果进行了测试，以验证轻量化协作臂的可靠性和稳定性。</p>
<figure>
<img src="/images/2-2-50.png" alt="图 50 基于一体化关节的七自由度协作机器人系统">
<figcaption aria-hidden="true">图 50
基于一体化关节的七自由度协作机器人系统</figcaption>
</figure>
<h3 id="基于多路canopen通讯方案的七轴协作机器人样机搭建">3.2.2基于多路CANopen通讯方案的七轴协作机器人样机搭建</h3>
<p>基于EtherCAT通讯架构的样机面临成本较高、入门门槛和开放性不足等问题。鉴于此，有必要对样机的通讯架构进行优化。CANopen通讯协议以其强大的抗干扰能力、较高的开放性和低廉的成本，非常适合于自主开发的机器人驱动器和控制器。然而，现有的单路CANopen通讯在高通讯频率下，总线负载过大且易发生阻塞，这无法满足协作机器人对高通量和高频宽通讯的需求。</p>
<p>针对单路CANopen通讯方案负载高、不利用多轴协作机器人力控算法部署的问题，搭建了基于多个EtherCAT从站分发的多路CANopen通讯架构。该架构具有灵活的树型拓扑结构，工控机可以外接多个EK1100耦合器模块作为EtherCAT从站，其中单个模块可以外接多个EK6751CANopen主站模块。这些CANopen主站模块可以外接多个CAN通讯的伺服驱动器。以七轴协作机器人为例，上位机与Speedgoat实时工控机连接，工控机自带EtherCAT主站。该主站可通过EK1100耦合器连接多个CANopen主站模块，各个模块分别连接多路CANopen从站。其中关节一到关节四共享一路CANopen，关节五到关节七共享一路CANopen，如图
51所示。</p>
<figure>
<img src="/images/2-2-51.png" alt="图 51 基于多路CANopen的协作机器人通讯架构">
<figcaption aria-hidden="true">图 51
基于多路CANopen的协作机器人通讯架构</figcaption>
</figure>
<p>为了使用自定义设计的伺服驱动器，首先通过Vector
CANeds工具修改驱动器的过程数据对象的映射参数和通讯参数，并将其导入倍福TwinCAT
3.0软件并生成所对应的协作机器人各个关节设备描述文件。基于所有的设备，创建各个关节的输入和输出变量的数据类型和数据大小。为了实现各个关节的高效同步，设置通讯周期为1ms。由于所有关节的数据量较大容易导致总线出现信号重叠和抖动，采用分布式同步时钟，并且在TwinCAT的EtherCAT主站中设置时间偏移对总线时延进行补偿，确保各个从站和工控机实现数据的高效同步。</p>
<h2 id="协作机器人样机标定">3.3 协作机器人样机标定</h2>
<p>现有的机器人运动学建模方法主要有Denavit–Hartenberg（DH）参数法、改进的DH（MDH）参数法、零参考模型、Complete
and parametrically
continuous（CPC）模型等。其中前两者是工业界广泛采用的方法，这些方法主要应用于串联机构，能够完整的建立从所有关节输入到末端输出之间的映射关系。通过对上述现有运动学建模方法建立的运动学模型进行微分可得到运动学误差模型。运动学误差模型的构建作为运动学标定的第一步，为实现几何误差参数的辨识与补偿提供了必要基础。而由上述这些运动学建模方法得到的误差模型存在建模过程复杂、误差传递规律不清晰、误差模型的参数连续性差等问题，在一定程度上影响了误差参数辨识过程的稳定性与计算效率。</p>
<p>针对现有基于齐次变换矩阵的指数积公式计算效率低、不利于高效的运动学计算等问题，基于单位对偶四元数定义了显式的指数和对数映射，建立了指数坐标下的有限和瞬时运动的联系。通过定义了单位对偶四元数的伴随运算，实现瞬时运动在不同坐标系中的变换，从而建立了线性化的基于局部指数积公式的运动学误差模型，助力后续的误差参数辨识和补偿。特别地，在误差补偿中评估了基本运算的数量，与基于齐次变换矩阵的指数积公式相比，算术运算的数量显著减少。此外，以一维数组为基础的位姿表示方法避免了数据的反复拆解与拼接，在进行运算时节省了数据调度时间。</p>
<p><img src="/images/2-2-b3.png"></p>
<p>结合单位对偶四元数的乘法和求逆运算，建立了基于单位对偶四元数的高效指数积公式，即LPOE-UDO。随后基于LPOE-UDO建立了面向串联机构的运动学和误差模型，采用最小二乘法进行误差参数辨识,提出了面向串联机构的高效误差补偿方法，汇总了补偿涉及的各群运算中的基本运算数量，如表
3所示。与传统的基于齐次变换矩阵的指数积公式相比，由于更少的算术运算和更紧凑的位姿表示方法，本章提出的方法可以减少串联机构误差补偿的计算时间。另外，还提出了基于LPOE-UDO的Paden-Kahan子问题求解方法，助力串联机构误差补偿中名义逆运动学的求解。进一步地，本章还研究了所提出的LPOE-UDO与传统的LPOE-HTM中各种对象之间的转换方法，这有助于工业机器人的高效运动学标定方法的落地。分别测试LPOE-HTM和LPOE-UDQ这两种方法下的各群运算所需的运行时间，图
52展示了两种方法在不同位形数量下的五类群运算所需的运行时间。</p>
<figure>
<img src="/images/2-2-52.png" alt="图 52 各类群运算下基本运算时间对比">
<figcaption aria-hidden="true">图 52
各类群运算下基本运算时间对比</figcaption>
</figure>
<p>为了进一步验证本文提出的串联机构标定方法的有效性，在机器人上进行运动学标定实验。对三种标定方法进行对比，即基于齐次变换矩阵的全局指数积公式（GPOE-HTM）、LPOE-HTM和LPOE-UDQ。前两者使用齐次变换矩阵来描述有限运动，而后者使用单位对偶四元数，单位对偶四元数中较少的条目有利于LPOE-UDQ
的高效计算。实验结果表明与现有的方法对比，本文提出的方法在串联机构中能实现相同的精度提升效果，如图
53所示。同时在误差补偿中能节省约25%的计算时间，这使得建立的模型适用于具有较长运动轨迹的串联机构的标定。</p>
<p><img src="/images/2-2-53.png" alt="图 53 标定实验中的方向和位置偏差"> <!-- 
## 3.4 协作机器人动力学建模

### 3.4.1 基于自动搜索多元多项式的线性参数化动力学建模

参数线性化动力学模型式机器人运动控制和柔顺空算法设计的基础。但是，传统的参数线性化动力学模型回归矩阵存在强耦合的冗余非线性项和冗余的动力学参数，导致模型实时计算效率低的问题。现有将机器人运动轨迹代入回归矩阵，通过奇异值分解确定矩阵独立列和最小参数个数，来减少冗余参数。但是回归矩阵符号表达式中仍存在冗余非线性项和动力学参数；另一种是通过穷举所有三角函数的排列组合，并通过计算力矩筛选出动力学基函数，但在冗余自由度机器人时基函数组合爆炸，存在建模效率低、通用性差的问题。

通过对非线性项和参数进行解耦，再分割消除冗余项能够彻底简化参数线性化动力学模型的回归矩阵表达式和动力学参数集合。基于局部指数积建立机器人各关节处的运动学方程，如下：

$$
\begin{gathered}
\boldsymbol{T}_i \triangleq{ }^{i-1} \boldsymbol{T}_i(0) \in \mathrm{SE}(3) \\
\boldsymbol{E}_i \triangleq e^{\hat{s}_i q_i} \in \mathrm{SE}(3)
\end{gathered}
$$

其中，${ }^{i-1} \boldsymbol{T}_i(0)$ 表示初始化姿的齐次变换矩阵，$\hat{\boldsymbol{s}}_i$ 表示第 $i$ 组件相对于第 $i-1$ 组件的旋量坐标。机器人末端运动学齐次变换矩阵由多个相邻组件的初始化姿和相对运动位姿累乘得到，表达式如下：

$$
\widetilde{\boldsymbol{T}}_i=\boldsymbol{T}_1 \boldsymbol{E}_1 \boldsymbol{T}_2 \boldsymbol{E}_2 \ldots \boldsymbol{T}_i \boldsymbol{E}_i
$$

利用克罗内克积将运动学中的齐次变换矩阵分解为运动学参数矩阵与多元多项式向量相乘的线性化表达式，如下：

$$
\operatorname{vec}\left(\widetilde{\boldsymbol{T}}_i\right)=\left(\boldsymbol{I}_4 \otimes\left(\otimes_{j=i}^2 \operatorname{vec}\left(\boldsymbol{T}_j\right)^{\mathrm{T}}\right) \otimes \boldsymbol{T}_1\right) \cdot\left(\otimes_{j=i}^1 \operatorname{vec}\left(\boldsymbol{E}_j\right)\right) \triangleq \boldsymbol{V}_i \boldsymbol{w}_i
$$

其中，$\boldsymbol{w}_i$ 表示从 $\widetilde{\boldsymbol{T}}_i$ 提取出来的多元多项式向量，$\boldsymbol{V}_i$ 表示从 $\widetilde{\boldsymbol{T}}_i$ 提取出来的参数矩阵，二者组成运动学的线性化模型。这为自动提取出动力学中的冗余非线性项打下基础，避免了穷举多元多项式，提高了建模效率。

通过拉格朗日方程将线性化运动学和惯量张量矩阵映射为基于多元多项式线性化的动力学模型：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\left[\begin{array}{lll}
\boldsymbol{w}_d^{\mathrm{T}}(\boldsymbol{q}, \ddot{\boldsymbol{q}}) & \boldsymbol{w}_c^{\mathrm{T}}(\boldsymbol{q}, \dot{\boldsymbol{q}}) & \boldsymbol{w}_g^{\mathrm{T}}(\boldsymbol{q})
\end{array}\right]\left[\begin{array}{lll}
\boldsymbol{V}_d^{\mathrm{T}} & \boldsymbol{V}_c^{\mathrm{T}} & \boldsymbol{V}_g^{\mathrm{T}}
\end{array}\right]^{\mathrm{T}}
$$

其中，$\boldsymbol{w}_d^{\mathrm{T}}(\boldsymbol{q}, \ddot{\boldsymbol{q}})$ 、$\boldsymbol{w}_c^{\mathrm{T}}(\boldsymbol{q}, \dot{\boldsymbol{q}})$ 和 $\boldsymbol{w}_g^{\mathrm{T}}(\boldsymbol{q})$ 分别是从惯性项 $\boldsymbol{D}(\boldsymbol{q}) \ddot{\boldsymbol{q}}$ 、科氏力和离心力项 $\boldsymbol{C}(\boldsymbol{q}, \dot{\boldsymbol{q}}) \dot{\boldsymbol{q}}$ 以及重力项 $\boldsymbol{G}(\boldsymbol{q})$ 提取得到的多元多项式向量；同时 $\boldsymbol{V}_d$、$\boldsymbol{V}_c$ 和 $\boldsymbol{V}_g$ 包含了运动学参数和惯性参数。

基于标准惯性参数重构线性化动力学模型，得到双线性化的动力学模型：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\boldsymbol{w}_\tau^{\mathrm{T}} \boldsymbol{C} \boldsymbol{\Psi}
$$

其中 $\boldsymbol{C}$ 为包含运动学参数的指标矩阵，$\boldsymbol{\Psi}$ 为标准惯性参数矩阵。这实现了冗余多元多项式和参数的分离，为分别消除冗余非线性项和参数打下基础。

利用矩阵与相关性分析剔除 $\boldsymbol{w}_\tau^{\mathrm{T}}$ 中的冗余多元多项式，得到：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\overline{\boldsymbol{w}}_\tau^{\mathrm{T}} \overline{\boldsymbol{C}} \boldsymbol{\Psi}
$$

最终利用满足分解方法对 $\overline{\boldsymbol{C}}$ 进行分解，剔除冗余惯性参数，得到简化后的参数向量 $\boldsymbol{\theta}_b$ ，进而得到简化后的参数线性化动力学模型:

$$
\boldsymbol{\tau}^{\mathrm{T}}=\overline{\boldsymbol{w}}_\tau^{\mathrm{T}} \boldsymbol{L}\left[\begin{array}{llll}
\boldsymbol{P}_1 & \boldsymbol{P}_2 & \ldots & \boldsymbol{P}_n
\end{array}\right] \boldsymbol{\theta}_b \triangleq \boldsymbol{Y} \boldsymbol{\theta}_b
$$

相比已有基于穷举多项式的解耦合方法，该方法将线性运动学映射成双线性的动力学，自动实现冗余多项式和参数的解耦合，最终实现冗余多元多项式和冗余参数的同时剔除，大大提高了模型的实时计算效率。图 54展示了线性参数化动力学模型多元多项式个数和惯性参数的个数在剔除冗余后有了大幅下降；图 55展示了线性参数化动力学模型的乘法数量在剔除冗余后有了大幅下降。

![图 54 线性参数化动力学模型的最小多元多项式和参数的数量](/images/2-2-54.png)
![图 55 线性参数化动力学模型的乘法数量](/images/2-2-55.png)

### 3.4.2 基于幺半群编码的参数线性化动力学建模
符号变量在计算机以ACIII码形式存储，并且符号运算操作需要存储大量的中间运算结果。对于超冗余自由度机器人，使用符号形式提取动力学模型中的多元多项式和动力学参数往往占用大量运算内存，导致建模效率低。因而，开发一种针对参数线性化动力学建模的数据结构和运算规则，降低符号表示与运算中产生的存储消耗，能够提高建模和冗余剔除的效率。

为了避免符号形式推导参数线性化动力学模型，提出了基于幺半群编码空间的高效推导方法。基于局部指数积建立机器人各关节处的运动学方程，如下

$$
\begin{gathered}
\boldsymbol{T}_i \triangleq{ }^{i-1} \boldsymbol{T}_i(0) \in \mathrm{SE}(3) \\
\boldsymbol{E}_i \triangleq e^{\hat{s}_i q_i} \in \mathrm{SE}(3)
\end{gathered}
$$

其中，${ }^{i-1} \boldsymbol{T}_i(0)$ 表示初始化姿的齐次变换矩阵，$\hat{\boldsymbol{s}}_i$ 表示第 $i$ 个组件相对于第 $i-1$ 个组件的旋量坐标。机器人末端运动学齐次变换矩阵由多个相邻组件的初始化姿和相对运动位姿累乘得到，表达式如下：

$$
\widetilde{\boldsymbol{T}}_i=\boldsymbol{T}_1 \boldsymbol{E}_1 \boldsymbol{T}_2 \boldsymbol{E}_2 \ldots \boldsymbol{T}_i E_i
$$

在 $\boldsymbol{E}_i$ 中的多元多项式表示如下：

$$
\varphi_i(v)=c_i \prod_{t=1}^k\left(v_t\right)^{e_{i, t}}, c_i \in \mathbb{R}, e_{i, t} \in \mathbb{N}, v_t \in v
$$

其中，$\varphi_i(v)$ 表示一个关于变量集合 $v$ 的多元多项式，$c_i$ 表示一个实数，$e_{i,t}$ 表示多元多项式的阶数，$\prod_{t=1}^k$ 表示累乘运算，$\mathbb{R}$ 表示实数集合，$\mathbb{N}$ 表示自然数集合，$v$ 表示变量集合。基于此，符号形式的多元多项式能够表示更为简洁的数值编码向量。将单个多元多项式的系数和次数据取并编码形成如下的向量：

$$
\boldsymbol{\phi}_i^{\mathrm{T}}=\left[\begin{array}{lllll}
c_i & e_{i, 1} & e_{i, 2} & \ldots & e_{i, k}
\end{array}\right]^{\mathrm{T}}
$$

对于所有单个多元多项式编码向量组成的集合 $\Phi_0$ ，定义一个满足封闭性、结合性、单位性的乘法二元运算，如下：

$$
\mathcal{T}\left(\varphi_i \varphi_j\right)=\boldsymbol{\phi}_i \dot{+} \boldsymbol{\phi}_j=\left[c_i c_j, e_{i, 1}+e_{j, 1}, \ldots, e_{i, k}+e_{j, k}\right]^{\mathrm{T}}
$$

为了在编码空间中实现一个含有多个多元多项式的向量与另外一个含有多个多元多项式的向量克罗内克积运算，需要在幺半群中定义相应的克罗内克积运算，如下：

$$
\circledast:\left(\Phi_0, \dot{+}\right) \otimes\left(\Phi_0, \dot{+}\right) ;
$$

其中，$\circledast$ 表示任意两个属于编码向量集合的编码向量之间的克罗内克积运算。

通过编码空间中的克罗内克积运算将运动学中的其齐次变换矩阵分解为运动学参数矩阵与多元多项式向量相乘的线性化表达式，如下：

$$
\operatorname{vec}\left(\widetilde{\boldsymbol{T}}_i\right)=\boldsymbol{V}_i \boldsymbol{w}_i
$$

其中，$\boldsymbol{w}_i$ 表示从 $\widetilde{\boldsymbol{T}}_i$ 提取出来的多元多项式向量，$\boldsymbol{V}_i$ 表示从 $\widetilde{\boldsymbol{T}}_i$ 提取出来的参数矩阵，二者组成模块化运动学关于运动学参数的线性化模型。

基于全半群编码，通过拉格朗日方程将线性化运动学和惯量张量矩阵映射为基于多元多项式线性化的动力学模型：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\boldsymbol{w}_\tau^{\mathrm{T}} \boldsymbol{C} \boldsymbol{\Psi}
$$

其中，$\boldsymbol{w}_\tau^{\mathrm{T}}$ 由编码矩阵 $\boldsymbol{\Phi}_\tau$ 表示。基于标准惯性参数重构线性化动力学模型，得到双线性化的动力学模型：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\boldsymbol{w}_\tau^{\mathrm{T}} \boldsymbol{C} \boldsymbol{\Psi}
$$

其中，$\boldsymbol{C}$ 包含运动学参数的指标矩阵，$\boldsymbol{\Psi}$ 为标准惯性参数矩阵。

此外，利用矩阵的相关性分析剔除 $\boldsymbol{w}_\tau^{\mathrm{T}}$ 中的冗余多元多项式，得到：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\overline{\boldsymbol{w}}_\tau^{\mathrm{T}} \overline{\boldsymbol{C}} \boldsymbol{\Psi}
$$

其中，$\overline{\boldsymbol{w}}_\tau^{\mathrm{T}}$ 由编码矩阵 $\overline{\boldsymbol{\Phi}}_\tau$ 表示。最终利用满足分解方法对 $\overline{\boldsymbol{C}}$ 进行分解，剔除冗余惯性参数，得到简化后的参数向量 $\boldsymbol{\theta}_b$ 。将多元多项式编码矩阵和冗余剔除后参数矩阵进行反向编码形成具有 Horner 形式的参数线性化动力学模型：

$$
\boldsymbol{\tau}^{\mathrm{T}}=\overline{\boldsymbol{w}}_\tau^{\mathrm{T}} \boldsymbol{L}\left[\begin{array}{llll}
\boldsymbol{P}_1 & \boldsymbol{P}_2 & \ldots & \boldsymbol{P}_n
\end{array}\right] \boldsymbol{\theta}_b \triangleq \boldsymbol{Y} \boldsymbol{\theta}_b
$$

相比已有的符号形式模型推导，提出的方法仅需要对运动学齐次变换矩阵多项式进行数值编码，并结合基于克罗内克积运算进行模型推导，有效避免了内存占用大、计算复杂度高的符号运算，进而大大提高了动力学模型的推导效率。图 56 展示了线性参数化动力学模型的推导时间，基于全半群编码的推导时间有了大幅度下降。

![图 56 线性参数化动力学模型的推导时间](/images/2-2-56.png)
 --></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ucas-iamt.github.io/2025/01/25/2-3outcome/" data-id="cm67az2wd00065c7k1y46h11m" data-title="研究进展三：协作机器人轻量化设计" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/01/26/2-2outcome/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          研究进展二 ：一体化关节集成优化设计方法与高带宽控制方法
        
      </div>
    </a>
  
  
    <a href="/2025/01/24/2-4outcome/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">研究进展四：轻量化协作机器人柔顺控制与振动抑制方法</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/01/29/1begin/">一、国家自然基金项目基本信息</a>
          </li>
        
          <li>
            <a href="/2025/01/28/2-0progres/">二、研究工作主要进展、结果和影响</a>
          </li>
        
          <li>
            <a href="/2025/01/27/2-1outcome/">研究进展一：高效高转矩密度驱动-传动-储能一体化双向驱动关节设计</a>
          </li>
        
          <li>
            <a href="/2025/01/26/2-2outcome/">研究进展二 ：一体化关节集成优化设计方法与高带宽控制方法</a>
          </li>
        
          <li>
            <a href="/2025/01/25/2-3outcome/">研究进展三：协作机器人轻量化设计</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 胡翰泽<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</body>
</html>